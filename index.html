<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Digital SENAI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Roboto', sans-serif; overflow: hidden; background-color: #000; }
        
        /* CORREÇÃO DO CORTE DA IMAGEM 
           Se você usar o seu código antigo, COPIE este bloco CSS para ele.
        */
        .media-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000; /* Fundo preto para sobras */
        }

        .media-content {
            /* Força a imagem a caber inteira na área disponível */
            width: 100%;
            height: 100%;
            object-fit: contain; /* O SEGREDO: 'contain' nunca corta. 'cover' corta. */
            display: block;
        }

        /* Animação do rodapé */
        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        .animate-ticker {
            display: inline-block;
            white-space: nowrap;
            animation: ticker 35s linear infinite;
            padding-left: 100%;
        }
    </style>
</head>
<body class="flex flex-col h-screen bg-gray-100">

    <!-- 
      TELA DE DESBLOQUEIO DE SOM (OBRIGATÓRIO)
      Sem isso, o navegador bloqueia o áudio dos vídeos.
    -->
    <div id="start-screen" class="fixed inset-0 z-[9999] bg-blue-900 flex flex-col items-center justify-center cursor-pointer">
        <div class="bg-white p-6 rounded-full shadow-xl mb-4">
            <i data-lucide="play" class="w-12 h-12 text-blue-900 fill-current ml-1"></i>
        </div>
        <h1 class="text-white text-3xl font-bold">Clique para Iniciar Painel</h1>
        <p class="text-blue-200 mt-2">Necessário para ativar o som</p>
    </div>

    <!-- CABEÇALHO (Ajuste aqui seu Logo e Nome) -->
    <header class="h-20 bg-white shadow-md flex items-center justify-between px-6 z-10 shrink-0 relative">
        <!-- Faixa vermelha decorativa padrão SENAI -->
        <div class="absolute top-0 left-0 w-full h-1 bg-red-600"></div>

        <div class="flex items-center gap-4">
            <!-- COLOQUE AQUI A URL DO SEU LOGO -->
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/8c/SENAI_São_Paulo_logo.png" alt="Logo SENAI" class="h-12 object-contain">
            
            <div class="h-8 w-px bg-gray-300 mx-2"></div>
            
            <!-- SEU TÍTULO AQUI -->
            <div>
                <h1 class="text-xl font-bold text-gray-800 tracking-tight leading-tight">MURAL DIGITAL</h1>
                <p class="text-xs text-gray-500 font-medium">Informação e Tecnologia</p>
            </div>
        </div>

        <!-- Relógio -->
        <div class="flex items-center gap-4 text-right">
            <div>
                <div id="clock-time" class="text-3xl font-bold text-blue-900 leading-none">00:00</div>
                <div id="clock-date" class="text-xs text-gray-500 font-bold uppercase">DATA</div>
            </div>
        </div>
    </header>

    <!-- ÁREA CENTRAL (Onde passam os slides) -->
    <!-- Flex-grow ocupa todo espaço que sobra entre cabeçalho e rodapé -->
    <main class="flex-grow bg-black relative w-full overflow-hidden">
        <div id="slide-container" class="w-full h-full">
            <!-- O Javascript injeta as imagens aqui -->
        </div>
        <!-- Barra de Progresso -->
        <div id="progress-bar" class="absolute bottom-0 left-0 h-1 bg-red-600 z-20 w-0"></div>
    </main>

    <!-- RODAPÉ -->
    <footer class="h-14 bg-blue-800 text-white flex items-center overflow-hidden shrink-0 z-10 relative">
        <div class="bg-blue-900 px-4 h-full flex items-center font-bold z-20 shadow-lg">
            <i data-lucide="bell" class="w-5 h-5 mr-2 text-yellow-400"></i>
            AVISOS:
        </div>
        <div class="w-full overflow-hidden flex items-center">
            <div class="animate-ticker text-lg font-medium">
                Bem-vindo ao SENAI! • Inscrições abertas para novos cursos técnicos. • Mantenha os laboratórios organizados. • Segurança em primeiro lugar.
            </div>
        </div>
    </footer>

    <script>
        // --- CONFIGURE SEUS SLIDES AQUI ---
        const slides = [
            {
                type: 'image',
                // Imagem criada no tamanho 1920x940 (ou Full HD 1920x1080)
                url: 'https://placehold.co/1920x940/png?text=Slide+1+Sem+Corte', 
                duration: 5000
            },
            {
                type: 'video',
                // Vídeo com som
                url: 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4', 
                duration: 0 // 0 usa a duração do vídeo
            },
            {
                type: 'image',
                url: 'https://placehold.co/1920x1080/red/white?text=Imagem+Padrao+FullHD+(Nao+Corta)',
                duration: 5000
            }
        ];

        let currentSlide = 0;
        const container = document.getElementById('slide-container');
        const progressBar = document.getElementById('progress-bar');
        const startScreen = document.getElementById('start-screen');
        let isPlaying = false;

        // Inicializa ícones
        lucide.createIcons();

        // INICIAR COM SOM (Clique Obrigatório)
        startScreen.addEventListener('click', () => {
            startScreen.style.opacity = '0';
            setTimeout(() => {
                startScreen.style.display = 'none';
                isPlaying = true;
                nextSlide(); // Começa
                
                // Tenta tela cheia (Com proteção contra erro de permissão)
                if (document.documentElement.requestFullscreen) {
                    document.documentElement.requestFullscreen().catch(e => {
                        console.warn("Modo Tela Cheia bloqueado pelo navegador/iframe. O painel continuará em modo janela.", e);
                    });
                }
            }, 500);
        });

        function nextSlide() {
            if (!isPlaying) return;

            const slide = slides[currentSlide];
            container.innerHTML = ''; // Limpa anterior
            
            // Reseta barra
            progressBar.style.transition = 'none';
            progressBar.style.width = '0%';

            const wrapper = document.createElement('div');
            wrapper.className = 'media-container';

            if (slide.type === 'image') {
                const img = document.createElement('img');
                img.src = slide.url;
                img.className = 'media-content animate-fade';
                wrapper.appendChild(img);
                container.appendChild(wrapper);

                // Inicia tempo
                runProgressBar(slide.duration);
                setTimeout(() => {
                    advanceIndex();
                    nextSlide();
                }, slide.duration);
            } 
            else if (slide.type === 'video') {
                const video = document.createElement('video');
                video.src = slide.url;
                video.className = 'media-content';
                video.autoplay = true;
                video.muted = false; // Tenta com som
                
                // Se der erro de som, tenta mudo
                video.play().catch(() => {
                    video.muted = true;
                    video.play();
                });

                video.onended = () => {
                    advanceIndex();
                    nextSlide();
                };

                wrapper.appendChild(video);
                container.appendChild(wrapper);
                
                // Barra baseada na duração do vídeo
                video.onloadedmetadata = () => {
                    runProgressBar(video.duration * 1000);
                };
            }
        }

        function advanceIndex() {
            currentSlide = (currentSlide + 1) % slides.length;
        }

        function runProgressBar(ms) {
            setTimeout(() => {
                progressBar.style.transition = `width ${ms}ms linear`;
                progressBar.style.width = '100%';
            }, 50);
        }

        // Relógio
        function updateClock() {
            const now = new Date();
            document.getElementById('clock-time').textContent = now.toLocaleTimeString('pt-BR', {hour:'2-digit', minute:'2-digit'});
            document.getElementById('clock-date').textContent = now.toLocaleDateString('pt-BR', {weekday:'short', day:'2-digit', month:'short'}).toUpperCase();
        }
        setInterval(updateClock, 1000);
        updateClock();

    </script>
</body>
</html>
